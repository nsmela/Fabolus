<mah:MetroWindow x:Class="Fabolus.Wpf.Pages.MainWindow.MainView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Fabolus.Wpf.Pages.MainWindow"
        xmlns:mah="clr-namespace:MahApps.Metro.Controls;assembly=MahApps.Metro" 
        xmlns:common="clr-namespace:Fabolus.Wpf.Common.Mesh" 
        xmlns:meshinfo="clr-namespace:Fabolus.Wpf.Pages.MainWindow.MeshInfo"
        mc:Ignorable="d"
        Title="FABOLUS" Height="550" Width="800" MinHeight="520" MinWidth="600"
        ResizeMode="CanResizeWithGrip"
        WindowStartupLocation="CenterScreen">
    <Grid>
        <!-- Grid Sizing Definitions-->
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="200"/>
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="64" />
            <RowDefinition Height="*" />
            <RowDefinition Height="28" />
        </Grid.RowDefinitions>

        <!-- App State -->
        <StackPanel Width="200" Orientation="Horizontal">
            <Label Content="{Binding CurrentViewTitle}" 
                        HorizontalAlignment="Left" 
                        VerticalAlignment="Center"
                        FontSize="24" 
                        FontWeight="Bold"
                        FontFamily="\Fonts\#Poppins" 
                        Margin="10,0,0,0"/>
        </StackPanel>

        <!-- View Mode Bar -->
        <StackPanel Orientation="Horizontal"
                    Grid.Row="0" Grid.Column="1" 
                    Height="64">
            <Button Content="import" 
                    Command="{Binding SwitchToImportViewCommand}"
                    Width="72" Margin="1"/>
            <Button Content="smooth" IsEnabled="{Binding MeshLoaded}"
                    Command="{Binding SwitchToSmoothingViewCommand}"
                    Width="72" Margin="1"/>
            <Button Content="rotate" IsEnabled="{Binding MeshLoaded}"
                    Command="{Binding SwitchToRotationViewCommand}"
                    Width="72" Margin="1"/>
            <Button Content="channels" IsEnabled="{Binding MeshLoaded}"
                    Command="{Binding SwitchToAirChannelViewCommand}"
                    Width="72" Margin="1"/>
            <Button Content="mold" IsEnabled="{Binding MeshLoaded}"
                    Command="{Binding SwitchToMoldViewCommand}"
                    Width="72" Margin="1"/>
            <Button Content="export" IsEnabled="{Binding MeshLoaded}"
                    Command="{Binding SwitchToExportViewCommand}"
                    Width="72" Margin="1"/>
        </StackPanel>

        <!-- Tools View  -->
        <ContentControl Content="{Binding CurrentViewModel}"
                        Grid.Row="1" Grid.Column="0" 
                Margin="2,0,2,0" />

        <!-- Information bar View -->
        <StackPanel Grid.Row="2" Grid.ColumnSpan="2" 
                    Margin="2">
            <Label HorizontalAlignment="Right"
                   Content="{Binding DebugText}" />
        </StackPanel>
        
        <!--  MeshView -->
        <ContentControl Content="{Binding CurrentMeshView}" Grid.Column="1" Grid.Row="1" />

        <!-- Tool buttons -->
        <StackPanel Grid.Row="1" Grid.Column="1" Orientation="Vertical">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <Button Command="{Binding CaptureScreenshotCommand}"
                    Margin=" 4"
                    Width="32"
                    Height="32" >
                    <Button.Content>
                        <Viewbox >
                            <Path Fill="Black" 
                                  Data="M2 4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-1.172a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 9.172 2H6.828a2 2 0 0 0-1.414.586l-.828.828A2 2 0 0 1 3.172 4zm.5 2a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1m9 2.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0"/>

                        </Viewbox>

                    </Button.Content>

                </Button>
            </StackPanel>          
            
            <!-- Info Pane-->
            <ContentControl Content="{Binding CurrentMeshInfo}" />

        </StackPanel>


        
    </Grid>
</mah:MetroWindow>
